2017-08-04 17:35:40 [scrapy.utils.log] INFO: Scrapy 1.4.0 started (bot: tencent)
2017-08-04 17:35:40 [scrapy.utils.log] INFO: Overridden settings: {'BOT_NAME': 'tencent', 'DOWNLOAD_DELAY': 1, 'LOG_FILE': 'log.txt', 'NEWSPIDER_MODULE': 'tencent.spiders', 'ROBOTSTXT_OBEY': True, 'SPIDER_MODULES': ['tencent.spiders']}
2017-08-04 17:35:40 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.spiderstate.SpiderState']
2017-08-04 17:35:40 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2017-08-04 17:35:40 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2017-08-04 17:35:40 [py.warnings] WARNING: D:\testFile\tencent\tencent\CustomURLFilter.py:1: ScrapyDeprecationWarning: Module `scrapy.dupefilter` is deprecated, use `scrapy.dupefilters` instead
  from scrapy.dupefilter import RFPDupeFilter

2017-08-04 17:35:40 [scrapy.middleware] INFO: Enabled item pipelines:
['tencent.CustomURLFilter.CustomURLFilter', 'tencent.pipelines.TencentPipeline']
2017-08-04 17:35:40 [scrapy.core.engine] INFO: Spider opened
2017-08-04 17:35:40 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2017-08-04 17:35:40 [scrapy.extensions.telnet] DEBUG: Telnet console listening on 127.0.0.1:6023
2017-08-04 17:35:40 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/robots.txt> (referer: None)
2017-08-04 17:35:41 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/> (referer: None)
2017-08-04 17:35:42 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://www.qq.com/robots.txt> (referer: None)
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'hd.mi.com': <GET http://hd.mi.com/x/07241b/index.html>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.mps.gov.cn': <GET http://www.mps.gov.cn/n16/index.html>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.ccdi.gov.cn': <GET http://www.ccdi.gov.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.sdpc.gov.cn': <GET http://www.sdpc.gov.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.mohrss.gov.cn': <GET http://www.mohrss.gov.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.gtzyb.com': <GET http://www.gtzyb.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.chinasafety.gov.cn': <GET http://www.chinasafety.gov.cn/newpage/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.mcprc.gov.cn': <GET http://www.mcprc.gov.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.zhb.gov.cn': <GET http://www.zhb.gov.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.nhfpc.gov.cn': <GET http://www.nhfpc.gov.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.sda.gov.cn': <GET http://www.sda.gov.cn/WS01/CL0001/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.nncc626.com': <GET http://www.nncc626.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.cac.gov.cn': <GET http://www.cac.gov.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.china-railway.com.cn': <GET http://www.china-railway.com.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.gov.cn': <GET http://www.gov.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.people.com.cn': <GET http://www.people.com.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.xinhua.org': <GET http://www.xinhua.org/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.gmw.cn': <GET http://www.gmw.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.cntv.cn': <GET http://www.cntv.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.huanqiu.com': <GET http://www.huanqiu.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.chinanews.com': <GET http://www.chinanews.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.china.com.cn': <GET http://www.china.com.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.youth.cn': <GET http://www.youth.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.ce.cn': <GET http://www.ce.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.taiwan.cn': <GET http://www.taiwan.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.jcrb.com': <GET http://www.jcrb.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.chinadaily.com.cn': <GET http://www.chinadaily.com.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.haiwainet.cn': <GET http://www.haiwainet.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.kaiwind.com': <GET http://www.kaiwind.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.cyol.com': <GET http://www.cyol.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.bjd.com.cn': <GET http://www.bjd.com.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.ynet.com': <GET http://www.ynet.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.fawan.com': <GET http://www.fawan.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'gb.cri.cn': <GET http://gb.cri.cn/world_news_journal/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.chinatimes.cc': <GET http://www.chinatimes.cc/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.qianlong.com': <GET http://www.qianlong.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.beijing.gov.cn': <GET http://www.beijing.gov.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.rmlt.com.cn': <GET http://www.rmlt.com.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.cankaoxiaoxi.com': <GET http://www.cankaoxiaoxi.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.cssn.cn': <GET http://www.cssn.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'epaper.jinghua.cn': <GET http://epaper.jinghua.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.china-cbn.com': <GET http://www.china-cbn.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.cnstock.com': <GET http://www.cnstock.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'newspaper.jfdaily.com': <GET http://newspaper.jfdaily.com/xwcb/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.dfdaily.com': <GET http://www.dfdaily.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.why.com.cn': <GET http://www.why.com.cn/epublish/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.eastday.com': <GET http://www.eastday.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.infzm.com': <GET http://www.infzm.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'nd.oeeee.com': <GET http://nd.oeeee.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.nfdaily.cn': <GET http://www.nfdaily.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.dayoo.com': <GET http://www.dayoo.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.ycwb.com': <GET http://www.ycwb.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'epaper.xkb.com.cn': <GET http://epaper.xkb.com.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.21cbh.com': <GET http://www.21cbh.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.time-weekly.com': <GET http://www.time-weekly.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.enorth.com.cn': <GET http://www.enorth.com.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'epaper.tianjinwe.com': <GET http://epaper.tianjinwe.com/mrxb/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'newspaper.jwb.com.cn': <GET http://newspaper.jwb.com.cn/jwb>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.tianjinwe.com': <GET http://www.tianjinwe.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.022net.com': <GET http://www.022net.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.cqnews.net': <GET http://www.cqnews.net/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.cqcb.com': <GET http://www.cqcb.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'cqsb.cqnews.net': <GET http://cqsb.cqnews.net/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.cqwb.com.cn': <GET http://www.cqwb.com.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'cqsb.chengw.com': <GET http://cqsb.chengw.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'epaper.hljnews.cn': <GET http://epaper.hljnews.cn/shb/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.xinnews.com': <GET http://www.xinnews.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.dbw.cn': <GET http://www.dbw.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.hljdaily.com.cn': <GET http://www.hljdaily.com.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.nen.com.cn': <GET http://www.nen.com.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.hilizi.com': <GET http://www.hilizi.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'newspaper.lndaily.com.cn': <GET http://newspaper.lndaily.com.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.xwhb.com': <GET http://www.xwhb.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'cswbszb.chinajilin.com.cn': <GET http://cswbszb.chinajilin.com.cn/paperindex.htm>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.ybnews.cn': <GET http://www.ybnews.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.hsxiang.com': <GET http://www.hsxiang.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.luchengnet.com': <GET http://www.luchengnet.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'epaper.yzdsb.com.cn': <GET http://epaper.yzdsb.com.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'epaper.daynews.com.cn': <GET http://epaper.daynews.com.cn/shtml/index_sjdsb.shtml>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'bddsb.dzwww.com': <GET http://bddsb.dzwww.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.hbqnb.com': <GET http://www.hbqnb.com/news/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'news.hebei.com.cn': <GET http://news.hebei.com.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.hebnews.cn': <GET http://www.hebnews.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.sjzdaily.com.cn': <GET http://www.sjzdaily.com.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.hsw.cn': <GET http://www.hsw.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.cnwest.com': <GET http://www.cnwest.com/index.htm>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.sanqindaily.com': <GET http://www.sanqindaily.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.ycen.com.cn': <GET http://www.ycen.com.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.xawb.com': <GET http://www.xawb.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.chinatibetnews.com': <GET http://www.chinatibetnews.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.vtibet.cn': <GET http://www.vtibet.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.qhnews.com': <GET http://www.qhnews.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.ts.cn': <GET http://www.ts.cn>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.iyaxin.com': <GET http://www.iyaxin.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.wlmqwb.com': <GET http://www.wlmqwb.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.yangtse.com': <GET http://www.yangtse.com>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.js.cn': <GET http://www.js.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.jnds.com.cn': <GET http://www.jnds.com.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.qlwb.com.cn': <GET http://www.qlwb.com.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.zjol.com.cn': <GET http://www.zjol.com.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.jschina.com.cn': <GET http://www.jschina.com.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.ahwang.cn': <GET http://www.ahwang.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.longhoo.net': <GET http://www.longhoo.net>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.66wz.com': <GET http://www.66wz.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.cnnb.com.cn': <GET http://www.cnnb.com.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.subaonet.com': <GET http://www.subaonet.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.cnxz.com.cn': <GET http://www.cnxz.com.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.qingdaonews.com': <GET http://www.qingdaonews.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.sdchina.com': <GET http://www.sdchina.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.shm.com.cn': <GET http://www.shm.com.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.qnsb.com': <GET http://www.qnsb.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.iqilu.com': <GET http://www.iqilu.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.e23.cn': <GET http://www.e23.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.sdnews.com.cn': <GET http://www.sdnews.com.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.vojs.cn': <GET http://www.vojs.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.zjs.org.cn': <GET http://www.zjs.org.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'ctdsb.cnhubei.com': <GET http://ctdsb.cnhubei.com/cache/paper_ctdsb.aspx>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'ctjb.cnhubei.com': <GET http://ctjb.cnhubei.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.cnhubei.com': <GET http://www.cnhubei.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'cjrb.cnhan.com': <GET http://cjrb.cnhan.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'whwb.cnhan.com': <GET http://whwb.cnhan.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.changjiangtimes.com': <GET http://www.changjiangtimes.com>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.dahe.cn': <GET http://www.dahe.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.jinbw.com.cn': <GET http://www.jinbw.com.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.zynews.com': <GET http://www.zynews.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.shangbw.com': <GET http://www.shangbw.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'zzwb.zynews.com': <GET http://zzwb.zynews.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.anhuinews.com': <GET http://www.anhuinews.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.voc.com.cn': <GET http://www.voc.com.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.he-nan.com': <GET http://www.he-nan.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'hunan.voc.com.cn': <GET http://hunan.voc.com.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.rednet.cn': <GET http://www.rednet.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.changsha.cn': <GET http://www.changsha.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.hf365.com': <GET http://www.hf365.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.hunantv.com': <GET http://www.hunantv.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.sznews.com': <GET http://www.sznews.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.nddaily.com': <GET http://www.nddaily.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.zhnews.net': <GET http://www.zhnews.net/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.citygf.com': <GET http://www.citygf.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.timedg.com': <GET http://www.timedg.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.hinews.cn': <GET http://www.hinews.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.hainan.net': <GET http://www.hainan.net/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.fjsen.com': <GET http://www.fjsen.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.singpao.com': <GET http://www.singpao.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.takungpao.com': <GET http://www.takungpao.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.scol.com.cn': <GET http://www.scol.com.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.gog.com.cn': <GET http://www.gog.com.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'e.cdqss.com': <GET http://e.cdqss.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.wccdaily.com.cn': <GET http://www.wccdaily.com.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.gywb.com.cn': <GET http://www.gywb.com.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.gxnews.com.cn': <GET http://www.gxnews.com.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'ccwb.yunnan.cn': <GET http://ccwb.yunnan.cn/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.tencent.com': <GET http://www.tencent.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'www.tencentmind.com': <GET http://www.tencentmind.com/>
2017-08-04 17:35:42 [scrapy.spidermiddlewares.offsite] DEBUG: Filtered offsite request to 'hr.tencent.com': <GET http://hr.tencent.com/>
2017-08-04 17:35:42 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://fashion.qq.com/robots.txt> (referer: None)
2017-08-04 17:35:43 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20170804/037550.htm> (referer: http://news.qq.com/)
2017-08-04 17:35:43 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:35:43 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20170804/037550.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:35:43 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://www.qq.com/accessibility/> (referer: http://news.qq.com/)
2017-08-04 17:35:43 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://finance.qq.com/robots.txt> (referer: None)
2017-08-04 17:35:43 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://accessibilityunion.org/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:35:43 [scrapy.core.scraper] ERROR: Spider error processing <GET http://www.qq.com/accessibility/> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:35:43 [scrapy.downloadermiddlewares.redirect] DEBUG: Redirecting (302) to <GET http://open.qq.com> from <GET http://open.qq.com/robots.txt>
2017-08-04 17:35:43 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/cross/20170726/U8LD975P.html> (referer: http://news.qq.com/)
2017-08-04 17:35:43 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:35:43 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://fashion.qq.com/original/ruliu/r828.html> (referer: http://news.qq.com/)
2017-08-04 17:35:43 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/cross/20170726/U8LD975P.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:35:43 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:35:43 [scrapy.core.scraper] ERROR: Spider error processing <GET http://fashion.qq.com/original/ruliu/r828.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:35:44 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://www.qq.com/privacy.htm> (referer: http://news.qq.com/)
2017-08-04 17:35:44 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:35:44 [scrapy.core.scraper] ERROR: Spider error processing <GET http://www.qq.com/privacy.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:35:44 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://open.qq.com> (referer: None)
2017-08-04 17:35:45 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://cd.qq.com/robots.txt> (referer: None)
2017-08-04 17:35:45 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20170804/022551.htm> (referer: http://news.qq.com/)
2017-08-04 17:35:45 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:35:45 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20170804/022551.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:35:45 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://www.qq.com/contract.shtml> (referer: http://news.qq.com/)
2017-08-04 17:35:45 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://gy.qq.com/robots.txt> (referer: None)
2017-08-04 17:35:45 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:35:45 [scrapy.core.scraper] ERROR: Spider error processing <GET http://www.qq.com/contract.shtml> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:35:46 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://cd.qq.com/> (referer: http://news.qq.com/)
2017-08-04 17:35:46 [scrapy.downloadermiddlewares.redirect] DEBUG: Redirecting (301) to <GET http://kf.qq.com/robots.txt> from <GET http://service.qq.com/robots.txt>
2017-08-04 17:35:46 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://open.qq.com/> (referer: http://news.qq.com/)
2017-08-04 17:35:46 [scrapy.core.engine] DEBUG: Crawled (403) <GET http://kf.qq.com/robots.txt> (referer: None)
2017-08-04 17:35:46 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://cd.qq.com'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:35:46 [scrapy.core.scraper] ERROR: Spider error processing <GET http://cd.qq.com/> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:35:46 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://open.qq.com'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:35:46 [scrapy.core.scraper] ERROR: Spider error processing <GET http://open.qq.com/> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:35:46 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20170803/042182.htm> (referer: http://news.qq.com/)
2017-08-04 17:35:46 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:35:46 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20170803/042182.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:35:47 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://gy.qq.com/original/story/sto231.html> (referer: http://news.qq.com/)
2017-08-04 17:35:47 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:35:47 [scrapy.core.scraper] ERROR: Spider error processing <GET http://gy.qq.com/original/story/sto231.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:35:47 [scrapy.downloadermiddlewares.redirect] DEBUG: Redirecting (301) to <GET http://kf.qq.com/> from <GET http://service.qq.com/>
2017-08-04 17:35:47 [scrapy.core.engine] DEBUG: Crawled (403) <GET http://kf.qq.com/robots.txt> (referer: None)
2017-08-04 17:35:47 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://finance.qq.com/a/20170804/039912.htm> (referer: http://news.qq.com/)
2017-08-04 17:35:47 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:35:47 [scrapy.core.scraper] ERROR: Spider error processing <GET http://finance.qq.com/a/20170804/039912.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:35:48 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://kf.qq.com/> (referer: http://news.qq.com/)
2017-08-04 17:35:49 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='/index.html'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:35:49 [scrapy.core.scraper] ERROR: Spider error processing <GET http://kf.qq.com/> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:35:50 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20160730/000170.htm> (referer: http://news.qq.com/)
2017-08-04 17:35:50 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:35:50 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20160730/000170.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:35:51 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20160418/023091.htm> (referer: http://news.qq.com/)
2017-08-04 17:35:51 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:35:51 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20160418/023091.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:35:51 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20170804/040116.htm> (referer: http://news.qq.com/)
2017-08-04 17:35:51 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:35:51 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20170804/040116.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:35:52 [scrapy.core.engine] DEBUG: Crawled (404) <GET http://news.qq.com/a/20160418/023093.htm> (referer: http://news.qq.com/)
2017-08-04 17:35:52 [scrapy.spidermiddlewares.httperror] INFO: Ignoring response <404 http://news.qq.com/a/20160418/023093.htm>: HTTP status code is not handled or not allowed
2017-08-04 17:35:53 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20170804/017046.htm> (referer: http://news.qq.com/)
2017-08-04 17:35:53 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:35:53 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20170804/017046.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:35:54 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20170804/037380.htm> (referer: http://news.qq.com/)
2017-08-04 17:35:54 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:35:54 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20170804/037380.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:35:56 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20170804/039822.htm> (referer: http://news.qq.com/)
2017-08-04 17:35:56 [scrapy.core.engine] DEBUG: Crawled (404) <GET http://news.qq.com/a/20160418/023092.htm> (referer: http://news.qq.com/)
2017-08-04 17:35:56 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:35:56 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20170804/039822.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:35:56 [scrapy.spidermiddlewares.httperror] INFO: Ignoring response <404 http://news.qq.com/a/20160418/023092.htm>: HTTP status code is not handled or not allowed
2017-08-04 17:35:57 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/we.htm> (referer: http://news.qq.com/)
2017-08-04 17:35:57 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:35:57 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/we.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:35:59 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/original/zaixianyingzhan/wusheng.html> (referer: http://news.qq.com/)
2017-08-04 17:35:59 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:35:59 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/original/zaixianyingzhan/wusheng.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:35:59 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/original/zaixianyingzhan/nuoxi.html> (referer: http://news.qq.com/)
2017-08-04 17:36:00 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:00 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/original/zaixianyingzhan/nuoxi.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:00 [scrapy.core.engine] DEBUG: Crawled (404) <GET http://data.auto.qq.com/robots.txt> (referer: None)
2017-08-04 17:36:00 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://data.auto.qq.com/car_public/1/serial_style_9.shtml> (referer: http://news.qq.com/)
2017-08-04 17:36:01 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:01 [scrapy.core.scraper] ERROR: Spider error processing <GET http://data.auto.qq.com/car_public/1/serial_style_9.shtml> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:01 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/original/zaixianyingzhan/beijinghutong.html> (referer: http://news.qq.com/)
2017-08-04 17:36:01 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:01 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/original/zaixianyingzhan/beijinghutong.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:02 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://data.auto.qq.com/car_public/1/serial_style_8.shtml> (referer: http://news.qq.com/)
2017-08-04 17:36:02 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:02 [scrapy.core.scraper] ERROR: Spider error processing <GET http://data.auto.qq.com/car_public/1/serial_style_8.shtml> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:03 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/original/eyan/ey143.html> (referer: http://news.qq.com/)
2017-08-04 17:36:03 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://data.auto.qq.com/car_public/1/serial_style_7.shtml> (referer: http://news.qq.com/)
2017-08-04 17:36:04 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:04 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/original/eyan/ey143.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:04 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:04 [scrapy.core.scraper] ERROR: Spider error processing <GET http://data.auto.qq.com/car_public/1/serial_style_7.shtml> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:04 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/original/eyan/ey144.html> (referer: http://news.qq.com/)
2017-08-04 17:36:04 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:04 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/original/eyan/ey144.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:05 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/original/eyan/ey141.html> (referer: http://news.qq.com/)
2017-08-04 17:36:05 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:05 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/original/eyan/ey141.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:05 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://data.auto.qq.com/car_public/1/serial_style_6.shtml> (referer: http://news.qq.com/)
2017-08-04 17:36:05 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:05 [scrapy.core.scraper] ERROR: Spider error processing <GET http://data.auto.qq.com/car_public/1/serial_style_6.shtml> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:06 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://data.auto.qq.com/car_public/1/serial_style_5.shtml> (referer: http://news.qq.com/)
2017-08-04 17:36:06 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:06 [scrapy.core.scraper] ERROR: Spider error processing <GET http://data.auto.qq.com/car_public/1/serial_style_5.shtml> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:06 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/original/tuhua/wushu.html> (referer: http://news.qq.com/)
2017-08-04 17:36:06 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:06 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/original/tuhua/wushu.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:08 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/original/tuhua/liangshanfighting.html> (referer: http://news.qq.com/)
2017-08-04 17:36:08 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://data.auto.qq.com/car_public/1/serial_style_3.shtml> (referer: http://news.qq.com/)
2017-08-04 17:36:08 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:08 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/original/tuhua/liangshanfighting.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:08 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:08 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/original/oneday/2770.html> (referer: http://news.qq.com/)
2017-08-04 17:36:08 [scrapy.core.scraper] ERROR: Spider error processing <GET http://data.auto.qq.com/car_public/1/serial_style_3.shtml> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:08 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:08 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/original/oneday/2770.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:08 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://data.auto.qq.com/car_public/1/serial_style_4.shtml> (referer: http://news.qq.com/)
2017-08-04 17:36:08 [scrapy.core.engine] DEBUG: Crawled (404) <GET http://stockapp.finance.qq.com/robots.txt> (referer: None)
2017-08-04 17:36:08 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:08 [scrapy.core.scraper] ERROR: Spider error processing <GET http://data.auto.qq.com/car_public/1/serial_style_4.shtml> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:09 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/original/oneday/2771.html> (referer: http://news.qq.com/)
2017-08-04 17:36:09 [scrapy.downloadermiddlewares.redirect] DEBUG: Redirecting (301) to <GET http://stockapp.finance.qq.com/pstock/> from <GET http://stockapp.finance.qq.com/pstock>
2017-08-04 17:36:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://gu.qq.com/robots.txt> (referer: None)
2017-08-04 17:36:10 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:10 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/original/oneday/2771.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:11 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://gu.qq.com/i/?_r=0.8773161763168928> (referer: http://news.qq.com/)
2017-08-04 17:36:11 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://finance.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:11 [scrapy.core.scraper] ERROR: Spider error processing <GET http://gu.qq.com/i/?_r=0.8773161763168928> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:11 [scrapy.downloadermiddlewares.redirect] DEBUG: Redirecting (302) to <GET http://gu.qq.com/i/> from <GET http://stockapp.finance.qq.com/pstock/>
2017-08-04 17:36:11 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://data.auto.qq.com/car_public/1/serial_style_1.shtml> (referer: http://news.qq.com/)
2017-08-04 17:36:11 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:11 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/original/oneday/2772.html> (referer: http://news.qq.com/)
2017-08-04 17:36:11 [scrapy.core.scraper] ERROR: Spider error processing <GET http://data.auto.qq.com/car_public/1/serial_style_1.shtml> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:11 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:11 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/original/oneday/2772.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:12 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://gu.qq.com/i/?_r=0.6021060024332845> (referer: http://news.qq.com/)
2017-08-04 17:36:12 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://finance.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:12 [scrapy.core.scraper] ERROR: Spider error processing <GET http://gu.qq.com/i/?_r=0.6021060024332845> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:12 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/original/living/l677_2.html> (referer: http://news.qq.com/)
2017-08-04 17:36:12 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://gu.qq.com/i/> (referer: http://news.qq.com/)
2017-08-04 17:36:12 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://data.auto.qq.com/car_public/1/serial_price_7.shtml> (referer: http://news.qq.com/)
2017-08-04 17:36:12 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:12 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/original/living/l677_2.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:12 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://finance.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:12 [scrapy.core.scraper] ERROR: Spider error processing <GET http://gu.qq.com/i/> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:12 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:12 [scrapy.core.scraper] ERROR: Spider error processing <GET http://data.auto.qq.com/car_public/1/serial_price_7.shtml> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:15 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/original/living/l679.html> (referer: http://news.qq.com/)
2017-08-04 17:36:15 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://gu.qq.com/002793> (referer: http://news.qq.com/)
2017-08-04 17:36:15 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:15 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/original/living/l679.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:15 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://finance.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:15 [scrapy.core.scraper] ERROR: Spider error processing <GET http://gu.qq.com/002793> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:15 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://data.auto.qq.com/car_public/1/serial_price_5.shtml> (referer: http://news.qq.com/)
2017-08-04 17:36:15 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://data.auto.qq.com/car_public/1/serial_price_4.shtml> (referer: http://news.qq.com/)
2017-08-04 17:36:15 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/original/living/l680.html> (referer: http://news.qq.com/)
2017-08-04 17:36:15 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:15 [scrapy.core.scraper] ERROR: Spider error processing <GET http://data.auto.qq.com/car_public/1/serial_price_5.shtml> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:15 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:15 [scrapy.core.scraper] ERROR: Spider error processing <GET http://data.auto.qq.com/car_public/1/serial_price_4.shtml> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:15 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:15 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/original/living/l680.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:15 [scrapy.downloadermiddlewares.redirect] DEBUG: Redirecting (301) to <GET http://gu.qq.com/sh600128> from <GET http://gu.qq.com/600128>
2017-08-04 17:36:16 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://gu.qq.com/002633> (referer: http://news.qq.com/)
2017-08-04 17:36:16 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://data.auto.qq.com/car_public/1/serial_style_2.shtml> (referer: http://news.qq.com/)
2017-08-04 17:36:16 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://finance.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:16 [scrapy.core.scraper] ERROR: Spider error processing <GET http://gu.qq.com/002633> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:16 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:16 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://sports.qq.com/robots.txt> (referer: None)
2017-08-04 17:36:16 [scrapy.core.scraper] ERROR: Spider error processing <GET http://data.auto.qq.com/car_public/1/serial_style_2.shtml> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:16 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://v.qq.com/robots.txt> (referer: None)
2017-08-04 17:36:16 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://sports.qq.com/a/20170804/001509.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:16 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:16 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://gu.qq.com/002652> (referer: http://news.qq.com/)
2017-08-04 17:36:16 [scrapy.core.scraper] ERROR: Spider error processing <GET http://sports.qq.com/a/20170804/001509.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:17 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/articleList/ranking/> (referer: http://news.qq.com/)
2017-08-04 17:36:17 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://finance.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:17 [scrapy.core.scraper] ERROR: Spider error processing <GET http://gu.qq.com/002652> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:17 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='#news'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:17 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/articleList/ranking/> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:17 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://data.auto.qq.com/car_public/1/serial_price_3.shtml> (referer: http://news.qq.com/)
2017-08-04 17:36:17 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://v.qq.com/zt2016/jiayan/index.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:17 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:17 [scrapy.core.scraper] ERROR: Spider error processing <GET http://data.auto.qq.com/car_public/1/serial_price_3.shtml> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:17 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:17 [scrapy.core.scraper] ERROR: Spider error processing <GET http://v.qq.com/zt2016/jiayan/index.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:17 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/zt2016/hcy/index.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:17 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:18 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/zt2016/hcy/index.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:18 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://data.auto.qq.com/car_public/1/serial_price_2.shtml> (referer: http://news.qq.com/)
2017-08-04 17:36:18 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:18 [scrapy.core.scraper] ERROR: Spider error processing <GET http://data.auto.qq.com/car_public/1/serial_price_2.shtml> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:18 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://stock.qq.com/robots.txt> (referer: None)
2017-08-04 17:36:18 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://data.auto.qq.com/car_public/1/serial_price_1.shtml> (referer: http://news.qq.com/)
2017-08-04 17:36:18 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:18 [scrapy.core.scraper] ERROR: Spider error processing <GET http://data.auto.qq.com/car_public/1/serial_price_1.shtml> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:19 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/zt2016/2016chunyun/index.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:19 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://stock.qq.com/> (referer: http://news.qq.com/)
2017-08-04 17:36:19 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:19 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/zt2016/2016chunyun/index.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:19 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://health.qq.com/robots.txt> (referer: None)
2017-08-04 17:36:19 [scrapy.core.engine] DEBUG: Crawled (404) <GET http://touareg.qq.com/robots.txt> (referer: None)
2017-08-04 17:36:19 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:19 [scrapy.core.scraper] ERROR: Spider error processing <GET http://stock.qq.com/> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:19 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://gu.qq.com/usDJI/zs> (referer: http://news.qq.com/)
2017-08-04 17:36:19 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://stock.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:19 [scrapy.core.scraper] ERROR: Spider error processing <GET http://gu.qq.com/usDJI/zs> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:20 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://touareg.qq.com> (referer: http://news.qq.com/)
2017-08-04 17:36:20 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/topic/feature.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:20 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://fashion.qq.com/original/ruliu/r829.html> (referer: http://news.qq.com/)
2017-08-04 17:36:20 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:20 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/topic/feature.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:20 [scrapy.downloadermiddlewares.redirect] DEBUG: Redirecting (301) to <GET http://gu.qq.com/sh603726> from <GET http://gu.qq.com/603726>
2017-08-04 17:36:20 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:20 [scrapy.core.scraper] ERROR: Spider error processing <GET http://fashion.qq.com/original/ruliu/r829.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:21 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://fashion.qq.com/original/ruliu/r830.html> (referer: http://news.qq.com/)
2017-08-04 17:36:22 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://health.qq.com/zt2016/mingyitang/168.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:22 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:22 [scrapy.core.scraper] ERROR: Spider error processing <GET http://fashion.qq.com/original/ruliu/r830.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:22 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:22 [scrapy.core.scraper] ERROR: Spider error processing <GET http://health.qq.com/zt2016/mingyitang/168.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:22 [scrapy.core.engine] DEBUG: Crawled (404) <GET http://class.qq.com/robots.txt> (referer: None)
2017-08-04 17:36:22 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://gu.qq.com/hkHSI/zs> (referer: http://news.qq.com/)
2017-08-04 17:36:22 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://stock.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:22 [scrapy.core.scraper] ERROR: Spider error processing <GET http://gu.qq.com/hkHSI/zs> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:22 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://fashion.qq.com/zt2015/ruliu/index.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:22 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/cross/20170713/S106qO6t.html> (referer: http://news.qq.com/)
2017-08-04 17:36:22 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:22 [scrapy.core.scraper] ERROR: Spider error processing <GET http://fashion.qq.com/zt2015/ruliu/index.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:23 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:23 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/cross/20170713/S106qO6t.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:23 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://health.qq.com/zt2016/mingyitang/169.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:23 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:23 [scrapy.core.scraper] ERROR: Spider error processing <GET http://health.qq.com/zt2016/mingyitang/169.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:23 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://gu.qq.com/sh000001> (referer: http://news.qq.com/)
2017-08-04 17:36:23 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://stock.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:23 [scrapy.core.scraper] ERROR: Spider error processing <GET http://gu.qq.com/sh000001> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:24 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://class.qq.com/class/22930/p144955.html> (referer: http://news.qq.com/)
2017-08-04 17:36:24 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://cul.qq.com/robots.txt> (referer: None)
2017-08-04 17:36:24 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:24 [scrapy.core.scraper] ERROR: Spider error processing <GET http://class.qq.com/class/22930/p144955.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:24 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20161121/025288.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:24 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://health.qq.com/zt2016/mingyitang/170.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:24 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://class.qq.com/class/22740/p143237.html> (referer: http://news.qq.com/)
2017-08-04 17:36:24 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:24 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20161121/025288.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:24 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:24 [scrapy.core.scraper] ERROR: Spider error processing <GET http://health.qq.com/zt2016/mingyitang/170.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:24 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://tech.qq.com/robots.txt> (referer: None)
2017-08-04 17:36:24 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:24 [scrapy.core.scraper] ERROR: Spider error processing <GET http://class.qq.com/class/22740/p143237.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:25 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://data.auto.qq.com/car_brand/index.shtml> (referer: http://news.qq.com/)
2017-08-04 17:36:25 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com/mobile/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:25 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://gu.qq.com/sh600128> (referer: http://news.qq.com/)
2017-08-04 17:36:25 [scrapy.core.scraper] ERROR: Spider error processing <GET http://data.auto.qq.com/car_brand/index.shtml> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:25 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://stock.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:25 [scrapy.core.scraper] ERROR: Spider error processing <GET http://gu.qq.com/sh600128> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:25 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20161118/035504.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:25 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://class.qq.com/class/22840/p144193.html> (referer: http://news.qq.com/)
2017-08-04 17:36:25 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:25 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20161118/035504.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:25 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:25 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://tech.qq.com/original/sw/i56.html> (referer: http://news.qq.com/)
2017-08-04 17:36:25 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://health.qq.com/zhuanti/myt/mytindex.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:25 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://cul.qq.com/a/20170802/005920.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:25 [scrapy.core.scraper] ERROR: Spider error processing <GET http://class.qq.com/class/22840/p144193.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:25 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:26 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20160919/044272.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:26 [scrapy.core.scraper] ERROR: Spider error processing <GET http://tech.qq.com/original/sw/i56.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:26 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://health.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:26 [scrapy.core.scraper] ERROR: Spider error processing <GET http://health.qq.com/zhuanti/myt/mytindex.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:26 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:26 [scrapy.core.scraper] ERROR: Spider error processing <GET http://cul.qq.com/a/20170802/005920.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:26 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:26 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20160919/044272.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:26 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20170119/028360.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:26 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:26 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://gu.qq.com/sh603726> (referer: http://news.qq.com/)
2017-08-04 17:36:26 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20170119/028360.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:26 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://stock.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:26 [scrapy.core.scraper] ERROR: Spider error processing <GET http://gu.qq.com/sh603726> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:27 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://cul.qq.com/a/20170803/007565.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:27 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://ent.qq.com/robots.txt> (referer: None)
2017-08-04 17:36:27 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:27 [scrapy.core.scraper] ERROR: Spider error processing <GET http://cul.qq.com/a/20170803/007565.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:27 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://health.qq.com/zt2016/mingyitang/167.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:27 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:27 [scrapy.core.scraper] ERROR: Spider error processing <GET http://health.qq.com/zt2016/mingyitang/167.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:27 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://ent.qq.com/original/views/v1318.html> (referer: http://news.qq.com/)
2017-08-04 17:36:27 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:27 [scrapy.core.scraper] ERROR: Spider error processing <GET http://ent.qq.com/original/views/v1318.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:28 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://tech.qq.com/original/sw/i58.html> (referer: http://news.qq.com/)
2017-08-04 17:36:28 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:28 [scrapy.core.scraper] ERROR: Spider error processing <GET http://tech.qq.com/original/sw/i58.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:28 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://cul.qq.com/a/20170804/006679.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:28 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:28 [scrapy.core.scraper] ERROR: Spider error processing <GET http://cul.qq.com/a/20170804/006679.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:28 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://class.qq.com/class/22952/p145268.html> (referer: http://news.qq.com/)
2017-08-04 17:36:28 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://finance.qq.com/original/MissMoney/mm0616.html> (referer: http://news.qq.com/)
2017-08-04 17:36:28 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:28 [scrapy.core.scraper] ERROR: Spider error processing <GET http://class.qq.com/class/22952/p145268.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:28 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://finance.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:28 [scrapy.core.scraper] ERROR: Spider error processing <GET http://finance.qq.com/original/MissMoney/mm0616.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:28 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://ent.qq.com/original/views/v1319.html> (referer: http://news.qq.com/)
2017-08-04 17:36:28 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://data.auto.qq.com/car_public/1/serial_price_6.shtml> (referer: http://news.qq.com/)
2017-08-04 17:36:29 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:29 [scrapy.core.scraper] ERROR: Spider error processing <GET http://ent.qq.com/original/views/v1319.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:29 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:29 [scrapy.core.scraper] ERROR: Spider error processing <GET http://data.auto.qq.com/car_public/1/serial_price_6.shtml> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:29 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://tech.qq.com/original/shenwang/shenwang.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:29 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/accessibility/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:29 [scrapy.core.scraper] ERROR: Spider error processing <GET http://tech.qq.com/original/shenwang/shenwang.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:29 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20170414/032063.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:29 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:29 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://finance.qq.com/original/MissMoney/MM00617.html> (referer: http://news.qq.com/)
2017-08-04 17:36:29 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20170414/032063.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:29 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://finance.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:29 [scrapy.core.scraper] ERROR: Spider error processing <GET http://finance.qq.com/original/MissMoney/MM00617.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:30 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://class.qq.com/class/22941/p145099.html> (referer: http://news.qq.com/)
2017-08-04 17:36:30 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:30 [scrapy.core.scraper] ERROR: Spider error processing <GET http://class.qq.com/class/22941/p145099.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:30 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://ent.qq.com/original/views/v1320.html> (referer: http://news.qq.com/)
2017-08-04 17:36:30 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:30 [scrapy.core.scraper] ERROR: Spider error processing <GET http://ent.qq.com/original/views/v1320.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:30 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://finance.qq.com/original/MissMoney/mm00618.html> (referer: http://news.qq.com/)
2017-08-04 17:36:30 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/zt2017/huijialiwu/pc.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:30 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://finance.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:30 [scrapy.core.scraper] ERROR: Spider error processing <GET http://finance.qq.com/original/MissMoney/mm00618.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:30 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:30 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/zt2017/huijialiwu/pc.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:30 [scrapy.downloadermiddlewares.redirect] DEBUG: Redirecting (301) to <GET https://v.qq.com/x/cover/1ni0uc6z2ssimlm.html> from <GET http://v.qq.com/cover/1/1ni0uc6z2ssimlm.html>
2017-08-04 17:36:31 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://class.qq.com/> (referer: http://news.qq.com/)
2017-08-04 17:36:31 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:31 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://finance.qq.com/financenews/ztlm/mm/missmoney.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:31 [scrapy.core.scraper] ERROR: Spider error processing <GET http://class.qq.com/> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:31 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/zt2014/newsX/all.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:31 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://finance.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:31 [scrapy.core.scraper] ERROR: Spider error processing <GET http://finance.qq.com/financenews/ztlm/mm/missmoney.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:31 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:31 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/zt2014/newsX/all.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:31 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://ent.qq.com/zt2012/views/index.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:31 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://ent.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:31 [scrapy.core.scraper] ERROR: Spider error processing <GET http://ent.qq.com/zt2012/views/index.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:32 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://v.qq.com/vplus/shijieshuo> (referer: http://news.qq.com/)
2017-08-04 17:36:32 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://v.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:32 [scrapy.core.scraper] ERROR: Spider error processing <GET http://v.qq.com/vplus/shijieshuo> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:32 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://ent.qq.com/a/20170723/036280.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:32 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:32 [scrapy.core.scraper] ERROR: Spider error processing <GET http://ent.qq.com/a/20170723/036280.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:33 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://v.qq.com/x/cover/1ni0uc6z2ssimlm.html> (referer: http://news.qq.com/)
2017-08-04 17:36:34 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='https://v.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:34 [scrapy.core.scraper] ERROR: Spider error processing <GET https://v.qq.com/x/cover/1ni0uc6z2ssimlm.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:34 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://tech.qq.com/original/sw/i57.html> (referer: http://news.qq.com/)
2017-08-04 17:36:34 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://fact.qq.com/robots.txt> (referer: None)
2017-08-04 17:36:34 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/cross/20170309/49rpD72V.html> (referer: http://news.qq.com/)
2017-08-04 17:36:34 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:34 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/cross/20170320/4ZtR8R31.html> (referer: http://news.qq.com/)
2017-08-04 17:36:34 [scrapy.core.scraper] ERROR: Spider error processing <GET http://tech.qq.com/original/sw/i57.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:34 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:34 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/cross/20170309/49rpD72V.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:34 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:34 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/cross/20170320/4ZtR8R31.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:35 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://v.qq.com/vplus/TheFront> (referer: http://news.qq.com/)
2017-08-04 17:36:35 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://v.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:35 [scrapy.core.scraper] ERROR: Spider error processing <GET http://v.qq.com/vplus/TheFront> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:35 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/cross/20170605/3DU2ZD85.html> (referer: http://news.qq.com/)
2017-08-04 17:36:35 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:35 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/cross/20170605/3DU2ZD85.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:35 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://gy.qq.com/original/story/sto229.html> (referer: http://news.qq.com/)
2017-08-04 17:36:35 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:35 [scrapy.core.scraper] ERROR: Spider error processing <GET http://gy.qq.com/original/story/sto229.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:35 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://ent.qq.com/a/20170801/058473.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:35 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://ent.qq.com/a/20170803/040052.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:35 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:35 [scrapy.core.scraper] ERROR: Spider error processing <GET http://ent.qq.com/a/20170801/058473.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:36 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:36 [scrapy.core.scraper] ERROR: Spider error processing <GET http://ent.qq.com/a/20170803/040052.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:36 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://fact.qq.com/> (referer: http://news.qq.com/)
2017-08-04 17:36:36 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:36 [scrapy.core.scraper] ERROR: Spider error processing <GET http://fact.qq.com/> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:36 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://gy.qq.com/original/photo/pic115.html> (referer: http://news.qq.com/)
2017-08-04 17:36:36 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:36 [scrapy.core.scraper] ERROR: Spider error processing <GET http://gy.qq.com/original/photo/pic115.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:37 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/zt2014/fact/index.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:37 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://view.news.qq.com/robots.txt> (referer: None)
2017-08-04 17:36:37 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:37 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/zt2014/fact/index.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:37 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://ent.qq.com/zt2012/guiquan/> (referer: http://news.qq.com/)
2017-08-04 17:36:37 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://ent.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:37 [scrapy.core.scraper] ERROR: Spider error processing <GET http://ent.qq.com/zt2012/guiquan/> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:37 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://gy.qq.com/original/story/sto232.html> (referer: http://news.qq.com/)
2017-08-04 17:36:37 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:37 [scrapy.core.scraper] ERROR: Spider error processing <GET http://gy.qq.com/original/story/sto232.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:37 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/zt2017/thirteen_in/allpc.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:38 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:38 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/zt2017/thirteen_in/allpc.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:38 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://view.news.qq.com/a/20170804/006498.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:38 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:38 [scrapy.core.scraper] ERROR: Spider error processing <GET http://view.news.qq.com/a/20170804/006498.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:38 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://gy.qq.com/original/story/sto233.html> (referer: http://news.qq.com/)
2017-08-04 17:36:39 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:39 [scrapy.core.scraper] ERROR: Spider error processing <GET http://gy.qq.com/original/story/sto233.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:39 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20170804/020536.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:39 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://view.news.qq.com/a/20170804/006690.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:39 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:39 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20170804/020536.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:39 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:39 [scrapy.core.scraper] ERROR: Spider error processing <GET http://view.news.qq.com/a/20170804/006690.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:40 [scrapy.extensions.logstats] INFO: Crawled 153 pages (at 153 pages/min), scraped 0 items (at 0 items/min)
2017-08-04 17:36:40 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20170804/002083.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:40 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:40 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20170804/002083.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:40 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://view.news.qq.com/a/20170804/006920.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:40 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:40 [scrapy.core.scraper] ERROR: Spider error processing <GET http://view.news.qq.com/a/20170804/006920.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:41 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/original/tuhua/chuanxiao.html> (referer: http://news.qq.com/)
2017-08-04 17:36:41 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:41 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/original/tuhua/chuanxiao.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:41 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://xw.qq.com/robots.txt> (referer: None)
2017-08-04 17:36:41 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://view.news.qq.com/original/intouchtoday/n3973.html> (referer: http://news.qq.com/)
2017-08-04 17:36:41 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://city.qq.com/robots.txt> (referer: None)
2017-08-04 17:36:42 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://view.news.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:42 [scrapy.core.scraper] ERROR: Spider error processing <GET http://view.news.qq.com/original/intouchtoday/n3973.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:42 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://xw.qq.com/news/20170109029993/NEW2017010902999300> (referer: http://news.qq.com/)
2017-08-04 17:36:42 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:42 [scrapy.core.scraper] ERROR: Spider error processing <GET http://xw.qq.com/news/20170109029993/NEW2017010902999300> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:42 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/original/oneday/2773.html> (referer: http://news.qq.com/)
2017-08-04 17:36:42 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:42 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/original/oneday/2773.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:42 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://city.qq.com/a/20170803/019867.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:43 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:43 [scrapy.core.scraper] ERROR: Spider error processing <GET http://city.qq.com/a/20170803/019867.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:43 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20170804/010325.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:44 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:44 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20170804/010325.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:44 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20170117/029013.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:44 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:44 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://city.qq.com/a/20170804/026692.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:44 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20170117/029013.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:44 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:44 [scrapy.core.scraper] ERROR: Spider error processing <GET http://city.qq.com/a/20170804/026692.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:45 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20170419/045475.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:45 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:45 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20170419/045475.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:45 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://gongyi.qq.com/robots.txt> (referer: None)
2017-08-04 17:36:45 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://city.qq.com/a/20170804/033645.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:45 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20170126/018592.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:45 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:45 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://gongyi.qq.com/a/20170731/034221.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:45 [scrapy.core.scraper] ERROR: Spider error processing <GET http://city.qq.com/a/20170804/033645.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:45 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:45 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20170126/018592.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:46 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:46 [scrapy.core.scraper] ERROR: Spider error processing <GET http://gongyi.qq.com/a/20170731/034221.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:47 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://city.qq.com/a/20170804/033978.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:47 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20170308/022622.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:47 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://gongyi.qq.com/a/20170801/018640.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:47 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:47 [scrapy.core.scraper] ERROR: Spider error processing <GET http://city.qq.com/a/20170804/033978.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:47 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:47 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20170308/022622.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:47 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:47 [scrapy.core.scraper] ERROR: Spider error processing <GET http://gongyi.qq.com/a/20170801/018640.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:47 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://city.qq.com/a/20170804/035120.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:48 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:48 [scrapy.core.scraper] ERROR: Spider error processing <GET http://city.qq.com/a/20170804/035120.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:48 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://gongyi.qq.com/a/20170801/022117.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:48 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:48 [scrapy.core.scraper] ERROR: Spider error processing <GET http://gongyi.qq.com/a/20170801/022117.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:49 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20170115/012771.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:49 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://city.qq.com/a/20170804/036427.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:49 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:49 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20170115/012771.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:49 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:49 [scrapy.core.scraper] ERROR: Spider error processing <GET http://city.qq.com/a/20170804/036427.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:49 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20170302/019069.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:49 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:49 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20170302/019069.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:50 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://gongyi.qq.com/a/20170802/017100.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:50 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://media.news.qq.com/robots.txt> (referer: None)
2017-08-04 17:36:50 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:50 [scrapy.core.scraper] ERROR: Spider error processing <GET http://gongyi.qq.com/a/20170802/017100.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:50 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/original/dujiabianyi/gugehangyexieyi.html> (referer: http://news.qq.com/)
2017-08-04 17:36:50 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:50 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/original/dujiabianyi/gugehangyexieyi.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:50 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://view.news.qq.com/original/legacyintouch/d666.html> (referer: http://news.qq.com/)
2017-08-04 17:36:50 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://city.qq.com/a/20170804/037855.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:50 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://view.news.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:50 [scrapy.core.scraper] ERROR: Spider error processing <GET http://view.news.qq.com/original/legacyintouch/d666.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:50 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:50 [scrapy.core.scraper] ERROR: Spider error processing <GET http://city.qq.com/a/20170804/037855.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:51 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://media.news.qq.com/> (referer: http://news.qq.com/)
2017-08-04 17:36:51 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://gongyi.qq.com/a/20170803/018946.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:51 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:51 [scrapy.core.scraper] ERROR: Spider error processing <GET http://media.news.qq.com/> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:51 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:51 [scrapy.core.scraper] ERROR: Spider error processing <GET http://gongyi.qq.com/a/20170803/018946.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:51 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://city.qq.com/> (referer: http://news.qq.com/)
2017-08-04 17:36:52 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:52 [scrapy.core.scraper] ERROR: Spider error processing <GET http://city.qq.com/> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:52 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/original/dujiabianyi/jiemumoshi.html> (referer: http://news.qq.com/)
2017-08-04 17:36:52 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:52 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/original/dujiabianyi/jiemumoshi.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:52 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://gongyi.qq.com/a/20170804/021473.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:52 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:52 [scrapy.core.scraper] ERROR: Spider error processing <GET http://gongyi.qq.com/a/20170804/021473.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:52 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/original/dujiabianyi/zhongchaad.html> (referer: http://news.qq.com/)
2017-08-04 17:36:53 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:53 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/original/dujiabianyi/zhongchaad.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:53 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/original/dujiabianyi/lutoushegaiban.html> (referer: http://news.qq.com/)
2017-08-04 17:36:54 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:54 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/original/dujiabianyi/lutoushegaiban.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:55 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/original/dujiabianyi/waimeirepingyanjiu.html> (referer: http://news.qq.com/)
2017-08-04 17:36:55 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:55 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/original/dujiabianyi/waimeirepingyanjiu.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:57 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/original/dujiabianyi/mediaintern.html> (referer: http://news.qq.com/)
2017-08-04 17:36:57 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:57 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/original/dujiabianyi/mediaintern.html> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:57 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20161227/001212.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:57 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:57 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20161227/001212.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:36:59 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20161227/014301.htm> (referer: http://news.qq.com/)
2017-08-04 17:36:59 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:36:59 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20161227/014301.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:37:00 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20161227/013434.htm> (referer: http://news.qq.com/)
2017-08-04 17:37:00 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:37:00 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20161227/013434.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:37:01 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20161227/007947.htm> (referer: http://news.qq.com/)
2017-08-04 17:37:02 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:37:02 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20161227/007947.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:37:02 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20161227/011065.htm> (referer: http://news.qq.com/)
2017-08-04 17:37:02 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:37:02 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20161227/011065.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:37:04 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20161227/007056.htm> (referer: http://news.qq.com/)
2017-08-04 17:37:04 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:37:04 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20161227/007056.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:37:05 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20161227/012771.htm> (referer: http://news.qq.com/)
2017-08-04 17:37:05 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:37:05 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20161227/012771.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:37:06 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20161227/008669.htm> (referer: http://news.qq.com/)
2017-08-04 17:37:06 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:37:06 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20161227/008669.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:37:08 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20161227/014055.htm> (referer: http://news.qq.com/)
2017-08-04 17:37:08 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:37:08 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20161227/014055.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:37:09 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20161222/026418.htm> (referer: http://news.qq.com/)
2017-08-04 17:37:09 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:37:09 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20161222/026418.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:37:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20161227/005400.htm> (referer: http://news.qq.com/)
2017-08-04 17:37:10 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:37:10 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20161227/005400.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:37:11 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20161227/012170.htm> (referer: http://news.qq.com/)
2017-08-04 17:37:11 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:37:11 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20161227/012170.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:37:13 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20161227/005023.htm> (referer: http://news.qq.com/)
2017-08-04 17:37:13 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://news.qq.com'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:37:13 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20161227/005023.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:37:14 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20161227/011872.htm> (referer: http://news.qq.com/)
2017-08-04 17:37:14 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:37:14 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20161227/011872.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:37:15 [scrapy.downloadermiddlewares.redirect] DEBUG: Redirecting (301) to <GET http://society.qq.com> from <GET http://news.qq.com/society_index.shtml>
2017-08-04 17:37:15 [scrapy.dupefilters] DEBUG: Filtered duplicate request: <GET http://society.qq.com> - no more duplicates will be shown (see DUPEFILTER_DEBUG to show all duplicates)
2017-08-04 17:37:17 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20170804/024230.htm> (referer: http://news.qq.com/)
2017-08-04 17:37:17 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:37:17 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20170804/024230.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:37:18 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20170804/023185.htm> (referer: http://news.qq.com/)
2017-08-04 17:37:18 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:37:18 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20170804/023185.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:37:19 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20170804/022896.htm> (referer: http://news.qq.com/)
2017-08-04 17:37:19 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:37:19 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20170804/022896.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
2017-08-04 17:37:20 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://news.qq.com/a/20170804/022435.htm> (referer: http://news.qq.com/)
2017-08-04 17:37:20 [scrapy.core.scraper] ERROR: Error processing {'links': <Selector xpath='//a/@href' data='http://www.qq.com/demo/accessibility.htm'>}
Traceback (most recent call last):
  File "D:\python\lib\site-packages\twisted\internet\defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "D:\testFile\tencent\tencent\pipelines.py", line 16, in process_item
    url = item['url']
  File "D:\python\lib\site-packages\scrapy\item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'url'
2017-08-04 17:37:20 [scrapy.core.scraper] ERROR: Spider error processing <GET http://news.qq.com/a/20170804/022435.htm> (referer: http://news.qq.com/)
Traceback (most recent call last):
  File "D:\python\lib\site-packages\scrapy\utils\defer.py", line 102, in iter_errback
    yield next(it)
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\offsite.py", line 29, in process_spider_output
    for x in result:
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spidermiddlewares\depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "D:\python\lib\site-packages\scrapy\spiders\crawl.py", line 78, in _parse_response
    for requests_or_item in iterate_spider_output(cb_res):
  File "D:\testFile\tencent\tencent\spiders\qqnews.py", line 55, in parse_fen
    yield scrapy.Request(url, callback=self.parse)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 25, in __init__
    self._set_url(url)
  File "D:\python\lib\site-packages\scrapy\http\request\__init__.py", line 52, in _set_url
    raise TypeError('Request url must be str or unicode, got %s:' % type(url).__name__)
TypeError: Request url must be str or unicode, got Selector:
